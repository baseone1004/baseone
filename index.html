<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BaseOne</title>
  <style>
    :root{
      --bg:#0b1020;

      /* ëˆˆ í¸í•œ ë‹¤í¬ í†¤ */
      --panel: rgba(255,255,255,.05);
      --panel2: rgba(255,255,255,.07);
      --line: rgba(255,255,255,.10);

      --text:#eef2ff;
      --muted:rgba(238,242,255,.68);
      --accent:#6aa8ff;
      --accent2:#3a7bff;

      --shadow: 0 18px 44px rgba(0,0,0,.45);
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 760px at 12% 10%, rgba(58,123,255,.13), transparent 60%),
        radial-gradient(1000px 740px at 85% 20%, rgba(255,102,196,.06), transparent 55%),
        radial-gradient(1200px 900px at 60% 110%, rgba(106,168,255,.07), transparent 65%),
        linear-gradient(180deg, #070a14 0%, var(--bg) 70%);
      min-height:100vh;
    }
    a{color:var(--accent); text-decoration:none}
    .wrap{max-width:1140px;margin:0 auto;padding:22px 16px 74px}
    .top{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      margin-bottom:14px;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
      font-weight:900; letter-spacing:.2px;
      font-size:28px;
    }
    .logo{
      width:40px;height:40px;border-radius:14px;
      background:
        radial-gradient(14px 14px at 30% 30%, rgba(255,255,255,.40), transparent 60%),
        linear-gradient(180deg, rgba(106,168,255,.95), rgba(58,123,255,.95));
      box-shadow: 0 10px 26px rgba(58,123,255,.20);
      border:1px solid rgba(255,255,255,.14);
    }
    .chip{
      font-size:12px;color:var(--muted);
      padding:7px 10px;border:1px solid var(--line);
      border-radius:999px;background:rgba(255,255,255,.03)
    }
    .rightTop{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:none; cursor:pointer;
      padding:10px 12px;border-radius:14px;
      font-weight:900;
      background:rgba(255,255,255,.05);
      color:var(--text);
      border:1px solid var(--line);
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
    }
    .btn:hover{border-color: rgba(106,168,255,.32); background: rgba(255,255,255,.07)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      background: linear-gradient(180deg, rgba(106,168,255,1), rgba(58,123,255,1));
      border:none;
      box-shadow: 0 12px 30px rgba(58,123,255,.20);
    }
    .btn.primary:hover{filter:brightness(1.05)}
    .btn.ghost{background:rgba(255,255,255,.03)}
    .btn.small{padding:8px 10px;border-radius:12px;font-size:13px}
    .btn.copy{background:rgba(0,0,0,.20)}
    .btn.copy:hover{border-color: rgba(255,255,255,.18)}
    .btn.warn{
      background: rgba(255,90,106,.10);
      border:1px solid rgba(255,90,106,.22);
    }
    .btn.ok{
      background: rgba(57,217,138,.12);
      border:1px solid rgba(57,217,138,.20);
    }

    .grid{display:grid;grid-template-columns:1fr;gap:14px}
    @media(min-width:980px){.grid{grid-template-columns:1.15fr .85fr}}

    .card{
      background: var(--panel);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    .card h2{margin:0 0 10px;font-size:18px}
    .desc{margin:0 0 14px;color:var(--muted);font-size:13px;line-height:1.55}

    /* Category (ì•„ì´ì½˜ + ë”¥í†¤) */
    .categoryGrid{
      display:grid; grid-template-columns: repeat(2,1fr);
      gap:10px;
    }
    @media(min-width:760px){.categoryGrid{grid-template-columns: repeat(4,1fr)}}
    .cat{
      text-align:left;
      padding:12px 12px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      font-weight:900;
      transition: transform .08s ease, border-color .2s ease, background .2s ease;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      position:relative;
      overflow:hidden;
    }
    .cat:hover{transform: translateY(-1px); border-color: rgba(106,168,255,.30); background: rgba(255,255,255,.06)}
    .cat .l{display:flex;align-items:center;gap:10px}
    .icon{
      width:34px;height:34px;border-radius:14px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      font-size:18px;
      flex:0 0 auto;
    }
    .cat .name{display:flex;flex-direction:column;gap:2px}
    .cat .name small{font-weight:800;color:var(--muted);font-size:12px}
    .swatch{
      width:10px;height:10px;border-radius:999px;
      box-shadow: 0 0 0 4px rgba(255,255,255,.05);
      flex:0 0 auto;
      background: var(--dot,#6aa8ff);
    }

    /* glowë¥¼ ì•½í•˜ê²Œ */
    .cat::after{
      content:"";
      position:absolute; inset:-90px -70px auto auto;
      width:170px;height:170px;border-radius:999px;
      background: var(--glow, rgba(58,123,255,.10));
      filter: blur(10px);
      opacity:.55;
      transform: rotate(12deg);
    }

    .two{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:760px){.two{grid-template-columns:1fr 1fr}}

    .box{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 18px;
      padding:12px;
    }
    .boxTitle{
      display:flex;justify-content:space-between;align-items:center;gap:10px;
      margin-bottom:10px;
    }
    .count{font-size:12px;color:var(--muted)}
    .tag{
      font-size:12px;
      padding:6px 10px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color:#d6dcff;
      white-space:nowrap;
    }

    .list{
      display:grid; gap:10px;
      max-height: 420px; overflow:auto; padding-right:4px;
    }

    /* Card items */
    .topicCard{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      padding:12px;
      display:flex; justify-content:space-between; align-items:flex-start; gap:10px;
    }
    .topicLeft{display:flex;gap:10px;align-items:flex-start}
    .badge{
      width:32px;height:32px;border-radius:14px;
      display:grid;place-items:center;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      font-weight:900;color:#cfd6ff;
      flex:0 0 auto;
    }
    .topicText{display:flex;flex-direction:column;gap:6px}
    .topicTitle{font-size:13px;font-weight:900;line-height:1.35}
    .topicMeta{display:flex;gap:8px;flex-wrap:wrap}
    .pill{
      font-size:12px;
      padding:5px 9px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      color:#d9deff;
    }

    select,input,textarea{
      width:100%;
      background: rgba(0,0,0,.22);
      color:var(--text);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 14px;
      padding:11px 12px;
      outline:none;
    }
    textarea{min-height:100px;resize:vertical}
    .divider{height:1px;background: rgba(255,255,255,.08); margin:14px 0}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .row > *{flex:1 1 180px}

    .toast{
      position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
      background:rgba(0,0,0,.58);backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.10);
      padding:10px 12px;border-radius:14px;
      color:var(--text);font-size:13px;display:none;
      max-width: 92vw;
      box-shadow: 0 14px 30px rgba(0,0,0,.35);
      z-index:50;
    }

    /* Modal */
    .modalOverlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.58);
      display:none;
      align-items:center; justify-content:center;
      padding:18px;
      z-index:60;
    }
    .modal{
      width:min(860px, 96vw);
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
      box-shadow: 0 24px 70px rgba(0,0,0,.55);
      backdrop-filter: blur(14px);
      padding:16px;
    }
    .modalTop{
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      margin-bottom:10px;
    }
    .modalTitle{font-size:18px;font-weight:900}
    .modalClose{border:1px solid rgba(255,255,255,.14); background:rgba(0,0,0,.20)}
    .modalGrid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:740px){.modalGrid{grid-template-columns:1fr 1fr}}
    .modalBox{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      border-radius: 18px;
      padding:12px;
    }
    .modalActions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;justify-content:flex-end}
    .tiny{font-size:12px;color:var(--muted);line-height:1.55}
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      padding:3px 6px;border-radius:8px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color:#d6dcff;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo"></div>
        <div>
          BaseOne
          <div style="margin-top:6px">
            <span class="chip">ëˆˆ í¸í•œ ë‹¤í¬í†¤</span>
            <span class="chip">í•„í„° Â· ìë™ì¶”ì²œ Â· ì˜ˆì•½/ë°”ë¡œë°œí–‰</span>
          </div>
        </div>
      </div>

      <div class="rightTop">
        <a class="btn" href="./settings.html">âš™ ì„¤ì •</a>
        <button class="btn primary" onclick="openPlanner()">ğŸ“… ì˜ˆì•½ ë°œí–‰</button>
        <button class="btn" onclick="openPublishNow()">ğŸš€ ë°”ë¡œ ë°œí–‰</button>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT -->
      <div class="card">
        <h2>ì¹´í…Œê³ ë¦¬ ì„ íƒ</h2>
        <p class="desc">
          ì¹´í…Œê³ ë¦¬ë¥¼ ëˆ„ë¥´ë©´ <b>ì£¼ì œ 50ê°œ</b>ê°€ ìƒì„±ë¼ìš”. ë™ì‹œì— ê°™ì€ ì¹´í…Œê³ ë¦¬ë¡œ <b>ìˆ˜ìµí˜• ì£¼ì œ ì¶”ì²œ</b>ë„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.
        </p>

        <div class="categoryGrid" id="cats"></div>

        <div class="divider"></div>

        <div class="two">
          <div class="box">
            <div class="boxTitle">
              <b>ì£¼ì œ 50ê°œ</b>
              <span class="count" id="topicCount">0ê°œ</span>
            </div>

            <input id="topicFilter" placeholder="ì£¼ì œ ê²€ìƒ‰ (ì˜ˆ: ë³´í—˜, ë‹¤ì´ì–´íŠ¸, ë…¸íŠ¸ë¶)"/>

            <div style="height:10px"></div>
            <div class="list" id="topics"></div>
          </div>

          <div class="box">
            <div class="boxTitle">
              <b>ìˆ˜ìµí˜• ì£¼ì œ 100ê°œ</b>
              <span class="count" id="profitCount">0ê°œ</span>
            </div>

            <div class="row" style="margin-bottom:10px">
              <button class="btn primary" onclick="makeProfitAuto()">ì¹´í…Œê³ ë¦¬ë³„ ìë™ì¶”ì²œ</button>
              <button class="btn ghost" onclick="makeProfitAll()">ì „ì²´ ëœë¤ ì¶”ì²œ</button>
              <button class="btn ghost" onclick="clearProfit()">ë¹„ìš°ê¸°</button>
            </div>

            <input id="profitFilter" placeholder="ìˆ˜ìµí˜• ì£¼ì œ ê²€ìƒ‰ (ì˜ˆ: ì¹´ë“œ, í™˜ê¸‰, ë Œíƒˆ, ë³´í—˜)"/>

            <div style="height:10px"></div>
            <div class="list" id="profit"></div>
          </div>
        </div>
      </div>

      <!-- RIGHT -->
      <div class="card">
        <h2>ë°œí–‰ ì¤€ë¹„</h2>
        <p class="desc">
          ì˜ˆì•½/ë°”ë¡œë°œí–‰ì€ íŒì—…ìœ¼ë¡œ ì—´ë ¤ìš”.
          <br>ì§€ê¸ˆ ë‹¨ê³„ì—ì„œëŠ” <b>ì˜ˆì•½ ì €ì¥</b>ê³¼ <b>ë°œí–‰ ë°ì´í„° ë§Œë“¤ê¸°(ë³µì‚¬ìš©)</b>ê¹Œì§€ ì™„ì„±í•©ë‹ˆë‹¤.
        </p>

        <div class="box">
          <div class="topicMeta" style="margin-bottom:10px">
            <span class="pill">1) ì„¤ì •ì—ì„œ ë¸”ë¡œê·¸ ì €ì¥</span>
            <span class="pill">2) ì£¼ì œ ì¹´ë“œ ë³µì‚¬</span>
            <span class="pill">3) ì˜ˆì•½ ì €ì¥ / ë°”ë¡œë°œí–‰</span>
          </div>

          <button class="btn primary" style="width:100%;margin-bottom:10px" onclick="openPlanner()">ğŸ“… ì˜ˆì•½ ë°œí–‰</button>
          <button class="btn" style="width:100%" onclick="openPublishNow()">ğŸš€ ë°”ë¡œ ë°œí–‰</button>

          <div class="tiny" style="margin-top:10px">
            * ì‹¤ì œë¡œ â€œìë™ ì—…ë¡œë“œâ€ëŠ” ì„œë²„/ê¶Œí•œ(OAuth)ì´ í•„ìš”í•´ì„œ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì—°ê²°í•´ìš”.
            ì§€ê¸ˆì€ <span class="kbd">ë°œí–‰ìš© ê¸€/ì œëª©/ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸</span>ë¥¼ ìë™ ìƒì„±í•´ì„œ ì €ì¥/ë³µì‚¬í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì˜ˆì•½ë°œí–‰ Modal -->
  <div class="modalOverlay" id="plannerOverlay" onclick="closeIfOutside(event,'plannerOverlay')">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalTop">
        <div>
          <div class="modalTitle">ì˜ˆì•½ ë°œí–‰</div>
          <div class="tiny">ê¸°ë³¸ ì‹œê°„: 09:00 / 14:00 / 19:00 (ì›í•˜ë©´ ë³€ê²½ ê°€ëŠ¥)</div>
        </div>
        <button class="btn small modalClose" onclick="closeModal('plannerOverlay')">ë‹«ê¸°</button>
      </div>

      <div class="modalGrid">
        <div class="modalBox">
          <div style="font-weight:900;margin-bottom:8px">ë¸”ë¡œê·¸ ì„ íƒ</div>
          <select id="blogSelect"></select>
          <div class="tiny" style="margin-top:8px">settings.htmlì—ì„œ ì €ì¥í•œ ë¸”ë¡œê·¸ ëª©ë¡ì´ ë³´ì—¬ìš”.</div>
        </div>

        <div class="modalBox">
          <div style="font-weight:900;margin-bottom:8px">í•˜ë£¨ ë°œí–‰ ê°œìˆ˜</div>
          <input id="dailyCount" type="number" min="1" value="3"/>
          <div class="tiny" style="margin-top:8px">ì˜ˆ: 3ê°œë©´ ì•„ë˜ ì‹œê°„ 3ê°œë¥¼ ì‚¬ìš©í•´ìš”.</div>
        </div>

        <div class="modalBox" style="grid-column:1 / -1">
          <div style="font-weight:900;margin-bottom:8px">ë°œí–‰ ì‹œê°„(ê³ ì •)</div>
          <div class="row">
            <input id="t1" type="time" value="09:00"/>
            <input id="t2" type="time" value="14:00"/>
            <input id="t3" type="time" value="19:00"/>
          </div>
          <div class="tiny" style="margin-top:8px">
            í•˜ë£¨ ë°œí–‰ ê°œìˆ˜ 1ì´ë©´ ì²«ë²ˆì§¸ ì‹œê°„ë§Œ, 2ë©´ 1~2ë²ˆì§¸ ì‹œê°„, 3ì´ë©´ 1~3ë²ˆì§¸ ì‹œê°„ì„ ì‚¬ìš©í•´ìš”.
          </div>
        </div>

        <div class="modalBox" style="grid-column:1 / -1">
          <div style="font-weight:900;margin-bottom:8px">ì˜ˆì•½ ìƒíƒœ</div>
          <div class="tiny" id="planView">ì €ì¥ëœ ì˜ˆì•½ì´ ì—†ì–´ìš”.</div>
        </div>
      </div>

      <div class="modalActions">
        <button class="btn ghost" onclick="clearSchedule()">ì˜ˆì•½ ì‚­ì œ</button>
        <button class="btn" onclick="viewSchedule()">ì˜ˆì•½ ë³´ê¸°</button>
        <button class="btn primary" onclick="saveSchedule()">ì˜ˆì•½ ì €ì¥</button>
      </div>
    </div>
  </div>

  <!-- ë°”ë¡œë°œí–‰ Modal -->
  <div class="modalOverlay" id="publishOverlay" onclick="closeIfOutside(event,'publishOverlay')">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalTop">
        <div>
          <div class="modalTitle">ë°”ë¡œ ë°œí–‰(ë³µì‚¬ìš© ë°ì´í„° ë§Œë“¤ê¸°)</div>
          <div class="tiny">ì›í•˜ëŠ” ì‹œê°„/ì£¼ì œë¡œ â€œë°œí–‰ í…ìŠ¤íŠ¸â€ë¥¼ ë§Œë“¤ê³  ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.</div>
        </div>
        <button class="btn small modalClose" onclick="closeModal('publishOverlay')">ë‹«ê¸°</button>
      </div>

      <div class="modalGrid">
        <div class="modalBox">
          <div style="font-weight:900;margin-bottom:8px">ë¸”ë¡œê·¸ ì„ íƒ</div>
          <select id="blogSelect2"></select>
          <div class="tiny" style="margin-top:8px">ì„ íƒì€ ì €ì¥ìš©/í‘œì‹œìš©ì…ë‹ˆë‹¤.</div>
        </div>

        <div class="modalBox">
          <div style="font-weight:900;margin-bottom:8px">ë°œí–‰ ì‹œê°„</div>
          <input id="publishTime" type="datetime-local"/>
          <div class="tiny" style="margin-top:8px">ì›í•˜ëŠ” ë‚ ì§œ/ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš”.</div>
        </div>

        <div class="modalBox" style="grid-column:1 / -1">
          <div style="font-weight:900;margin-bottom:8px">ì£¼ì œ ì„ íƒ(ì¹´ë“œì—ì„œ í´ë¦­í•˜ë©´ ìë™ ì…ë ¥)</div>
          <input id="publishTopic" placeholder="ì—¬ê¸°ì— ì£¼ì œê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤ (ì§ì ‘ ì…ë ¥ë„ ê°€ëŠ¥)"/>
          <div class="tiny" style="margin-top:8px">ì£¼ì œ ì¹´ë“œì—ì„œ ë³µì‚¬ ë§ê³ , â€œë°”ë¡œë°œí–‰ì— ë„£ê¸°â€ë„ ê°€ëŠ¥í•˜ë„ë¡ í•´ë†¨ì–´ìš”.</div>
        </div>

        <div class="modalBox" style="grid-column:1 / -1">
          <div style="font-weight:900;margin-bottom:8px">ë°œí–‰ìš© í…ìŠ¤íŠ¸(ë³µì‚¬/ë¶™ì—¬ë„£ê¸°)</div>
          <textarea id="publishPayload" placeholder="ì•„ë˜ [ë§Œë“¤ê¸°]ë¥¼ ëˆ„ë¥´ë©´ ìë™ ìƒì„±ë©ë‹ˆë‹¤."></textarea>
          <div class="row" style="margin-top:10px">
            <button class="btn ok" onclick="buildPayload()">ë§Œë“¤ê¸°</button>
            <button class="btn" onclick="copyPayload()">ì „ì²´ ë³µì‚¬</button>
            <button class="btn warn" onclick="clearPayload()">ë¹„ìš°ê¸°</button>
          </div>
          <div class="tiny" style="margin-top:10px">
            * ì‹¤ì œ ìë™ ì—…ë¡œë“œëŠ” ë‹¤ìŒ ë‹¨ê³„(ì„œë²„/OAuth)ì—ì„œ ì—°ê²°í•©ë‹ˆë‹¤.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

<script>
  // ---------- Toast ----------
  function toast(msg){
    const t=document.getElementById("toast");
    t.textContent=msg;
    t.style.display="block";
    clearTimeout(window.__t);
    window.__t=setTimeout(()=>t.style.display="none", 2200);
  }

  // ---------- Categories meta (ë”¥í†¤) ----------
  const CATEGORY_META = [
    {name:"ê±´ê°•", icon:"ğŸ’ª", sub:"ëª¸/ê±´ê°•", glow:"rgba(57,217,138,.10)", dot:"#2fbf7a"},
    {name:"ì»´í“¨í„°/IT", icon:"ğŸ’»", sub:"ê¸°ìˆ /ë„êµ¬", glow:"rgba(106,168,255,.12)", dot:"#4f8dff"},
    {name:"ìë™ì°¨", icon:"ğŸš—", sub:"ì •ë¹„/ë³´í—˜", glow:"rgba(255,168,76,.10)", dot:"#d08a3c"},
    {name:"ìƒí™œ/ê°€ì „", icon:"ğŸ ", sub:"ì‚´ë¦¼/ê°€ì „", glow:"rgba(174,120,255,.10)", dot:"#8a63d8"},
    {name:"ìœ¡ì•„", icon:"ğŸ‘¶", sub:"ìœ¡ì•„/êµìœ¡", glow:"rgba(255,102,196,.08)", dot:"#cc4fa0"},
    {name:"ëˆ/ì¬í…Œí¬", icon:"ğŸ’¸", sub:"ì ˆì•½/íˆ¬ì", glow:"rgba(58,123,255,.12)", dot:"#3a7bff"},
    {name:"ì—¬í–‰", icon:"âœˆï¸", sub:"ì½”ìŠ¤/íŒ", glow:"rgba(80,220,255,.08)", dot:"#3aa9c2"},
    {name:"ìš”ë¦¬", icon:"ğŸ³", sub:"ë ˆì‹œí”¼", glow:"rgba(255,220,80,.08)", dot:"#c6a83a"},
    {name:"ìê¸°ê³„ë°œ", icon:"ğŸ“ˆ", sub:"ìŠµê´€/ëª©í‘œ", glow:"rgba(140,255,190,.08)", dot:"#4fbf86"},
    {name:"ê³µë¶€/ìê²©ì¦", icon:"ğŸ“š", sub:"ì‹œí—˜/ë£¨í‹´", glow:"rgba(255,170,200,.08)", dot:"#c97a95"},
    {name:"ë°˜ë ¤ë™ë¬¼", icon:"ğŸ¶", sub:"ì¼€ì–´/ìš©í’ˆ", glow:"rgba(180,255,120,.08)", dot:"#7abf4f"},
    {name:"íŒ¨ì…˜/ë·°í‹°", icon:"ğŸ’„", sub:"ê´€ë¦¬/í…œ", glow:"rgba(255,120,150,.08)", dot:"#c9657a"},
    {name:"ì·¨ë¯¸", icon:"ğŸ¨", sub:"ì·¨ë¯¸/DIY", glow:"rgba(160,200,255,.08)", dot:"#6b92c9"},
    {name:"ìŠ¤í¬ì¸ ", icon:"âš½", sub:"ìš´ë™/ë£¨í‹´", glow:"rgba(120,255,220,.08)", dot:"#49bfa8"},
    {name:"ê²Œì„", icon:"ğŸ®", sub:"ë¦¬ë·°/íŒ", glow:"rgba(200,160,255,.08)", dot:"#8e6fd1"},
    {name:"ì˜í™”/ë“œë¼ë§ˆ", icon:"ğŸ¬", sub:"ì¶”ì²œ/ë¦¬ë·°", glow:"rgba(255,200,140,.08)", dot:"#c98f5a"},
  ];

  // ì¹´í…Œê³ ë¦¬ ë Œë”ë§
  const catsEl=document.getElementById("cats");
  CATEGORY_META.forEach((c)=>{
    const b=document.createElement("button");
    b.className="cat";
    b.style.setProperty("--glow", c.glow);
    b.style.setProperty("--dot", c.dot);
    b.innerHTML = `
      <div class="l">
        <div class="icon">${c.icon}</div>
        <div class="name">
          <div>${c.name}</div>
          <small>${c.sub}</small>
        </div>
      </div>
      <div class="swatch"></div>
    `;
    b.onclick=()=>{
      selectedCategory = c.name;
      makeTopics(c.name);
      // ì¹´í…Œê³ ë¦¬ ì„ íƒí•˜ë©´ ìˆ˜ìµí˜• ìë™ì¶”ì²œ ì¤€ë¹„ë§Œ (ì›í•˜ë©´ ì¦‰ì‹œ ìƒì„±ë„ ê°€ëŠ¥)
      toast(`ì¹´í…Œê³ ë¦¬ ì„ íƒ: ${c.name}`);
    };
    catsEl.appendChild(b);
  });

  // ---------- Clipboard ----------
  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      toast("âœ… ë³µì‚¬ ì™„ë£Œ!");
    }catch(e){
      const ta=document.createElement("textarea");
      ta.value=text;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      ta.remove();
      toast("âœ… ë³µì‚¬ ì™„ë£Œ!");
    }
  }

  // ---------- State ----------
  let selectedCategory = "";
  let topicData = [];   // [{title, category}]
  let profitData = [];  // [{title, tag, category}]

  // ---------- Topic 50 ----------
  function makeTopics(category){
    topicData = [];
    for(let i=1;i<=50;i++){
      topicData.push({ title:`${category} ê¸€ ì•„ì´ë””ì–´ ${i}`, category });
    }
    renderTopics();
    document.getElementById("topicCount").textContent="50ê°œ";
  }

  function renderTopics(){
    const filter = (document.getElementById("topicFilter").value || "").trim().toLowerCase();
    const topics=document.getElementById("topics");
    topics.innerHTML="";

    const shown = topicData.filter(x => !filter || x.title.toLowerCase().includes(filter));
    shown.forEach((x, idx)=>{
      const el=document.createElement("div");
      el.className="topicCard";
      el.innerHTML = `
        <div class="topicLeft">
          <div class="badge">${idx+1}</div>
          <div class="topicText">
            <div class="topicTitle">${escapeHtml(x.title)}</div>
            <div class="topicMeta">
              <span class="pill">${escapeHtml(x.category)}</span>
              <span class="pill">ì£¼ì œ</span>
            </div>
          </div>
        </div>
        <div class="row" style="flex:0 0 auto;gap:8px">
          <button class="btn small copy" onclick="copyText('${escapeJs(x.title)}')">ë³µì‚¬</button>
          <button class="btn small" onclick="sendToPublishNow('${escapeJs(x.title)}')">ë°”ë¡œë°œí–‰ì— ë„£ê¸°</button>
        </div>
      `;
      topics.appendChild(el);
    });

    // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
    document.getElementById("topicCount").textContent = `${shown.length}ê°œ`;
  }

  document.getElementById("topicFilter").addEventListener("input", renderTopics);

  // ---------- Profit 100 (ì¹´í…Œê³ ë¦¬ë³„ ìë™ì¶”ì²œ) ----------
  const PROFIT_BANK = {
    "ê±´ê°•":[
      "ë‹¤ì´ì–´íŠ¸ ì‹ë‹¨/ìš´ë™ ë£¨í‹´", "ê±´ê°•ê²€ì§„ í•­ëª© í•´ì„", "ì˜ì–‘ì œ(ì˜¤ë©”ê°€3/ë¹„íƒ€ë¯¼D) ë¹„êµ",
      "íƒˆëª¨/ë‘í”¼ ê´€ë¦¬", "í˜ˆë‹¹/ê³ í˜ˆì•• ê´€ë¦¬", "ì‹¤ë¹„ë³´í—˜ ì²­êµ¬ ë°©ë²•", "ì˜ë£Œë¹„ í™˜ê¸‰/ì„¸ì•¡ê³µì œ"
    ],
    "ì»´í“¨í„°/IT":[
      "ê°€ì„±ë¹„ ë…¸íŠ¸ë¶ ì¶”ì²œ", "SSD ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ", "ìœˆë„ìš° ìµœì í™”/ì •ë¦¬", "ê³µìœ ê¸°/ì™€ì´íŒŒì´ ì„¸íŒ…",
      "êµ¬ë…í˜• ì†Œí”„íŠ¸ì›¨ì–´ ì ˆì•½", "AI íˆ´ ë¹„êµ/í™œìš©", "ëª¨ë‹ˆí„°/í‚¤ë³´ë“œ ì¶”ì²œ"
    ],
    "ìë™ì°¨":[
      "ìë™ì°¨ ë³´í—˜ ë¹„êµ", "ìì°¨/ëŒ€ë¬¼/ëŒ€ì¸ ê¸°ì¤€", "ì—”ì§„ì˜¤ì¼/íƒ€ì´ì–´ êµì²´", "ì¤‘ê³ ì°¨ ì²´í¬ë¦¬ìŠ¤íŠ¸",
      "ë¸”ë™ë°•ìŠ¤/ë‚´ë¹„ ì¶”ì²œ", "ì—°ë¹„ ì ˆì•½ ìš´ì „ë²•", "ì •ë¹„ì†Œ ë¹„ìš© ì•„ë¼ëŠ” ë²•"
    ],
    "ìƒí™œ/ê°€ì „":[
      "ê°€ì „(ë¡œë´‡ì²­ì†Œê¸°/ê±´ì¡°ê¸°) ë¹„êµ", "ì „ê¸°ìš”ê¸ˆ ì ˆì•½", "ë Œíƒˆ vs êµ¬ë§¤", "ì •ìˆ˜ê¸°/ê³µê¸°ì²­ì •ê¸° ì¶”ì²œ",
      "ì²­ì†Œ/ì •ë¦¬ ìˆ˜ë‚©", "ì„¸íƒ/ë¹¨ë˜ ë…¸í•˜ìš°", "ì´ì‚¬ ì²´í¬ë¦¬ìŠ¤íŠ¸"
    ],
    "ìœ¡ì•„":[
      "ìœ¡ì•„í…œ ì¶”ì²œ(ì¹´ì‹œíŠ¸/ìœ ëª¨ì°¨)", "ë¶„ìœ /ê¸°ì €ê·€ ë¹„êµ", "ì–´ë¦°ì´ ë³´í—˜", "ìœ¡ì•„ ì§€ì›ê¸ˆ/ë°”ìš°ì²˜",
      "ì•„ì´ êµìœ¡ ì•±/êµêµ¬", "ìˆ˜ë©´/ì‹ìŠµê´€ ë£¨í‹´", "ì¶œì‚°/ì‚°í›„ì¡°ë¦¬ ì •ë³´"
    ],
    "ëˆ/ì¬í…Œí¬":[
      "ì‹ ìš©ì¹´ë“œ í˜œíƒ ìµœì í™”", "í†µì‹ ë¹„/êµ¬ë… ì ˆì•½", "ì—°ë§ì •ì‚° í™˜ê¸‰", "ISA/IRP ê¸°ì´ˆ",
      "ëŒ€ì¶œ ê¸ˆë¦¬ ë¹„êµ", "ë³´í—˜ ë¦¬ëª¨ë¸ë§", "ë¶€ì—… ì•„ì´ë””ì–´"
    ],
    "ì—¬í–‰":[
      "í•­ê³µê¶Œ ì‹¸ê²Œ ì‚¬ëŠ” ë²•", "í˜¸í…”/ìˆ™ì†Œ í• ì¸", "ì—¬í–‰ìë³´í—˜ ë¹„êµ", "ë Œí„°ì¹´/êµí†µíŒ¨ìŠ¤",
      "ê°€ì„±ë¹„ ì½”ìŠ¤ ì¶”ì²œ", "í™˜ì „/ìˆ˜ìˆ˜ë£Œ ì ˆì•½", "ë©´ì„¸/ì‡¼í•‘ íŒ"
    ],
    "ìš”ë¦¬":[
      "ë‹¤ì´ì–´íŠ¸ ë„ì‹œë½ ë ˆì‹œí”¼", "ì €íƒ„ê³ ì§€/ë‹¨ë°±ì§ˆ ë ˆì‹œí”¼", "ì—ì–´í”„ë¼ì´ì–´ ì¶”ì²œ/í™œìš©",
      "ë°€í‚¤íŠ¸ ë¹„êµ", "ì‹ì¬ë£Œ ë³´ê´€ë²•", "ì£¼ê°„ ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸", "ì¹¼/íŒ¬ ë“± ì£¼ë°©ìš©í’ˆ ì¶”ì²œ"
    ],
    "ìê¸°ê³„ë°œ":[
      "ì‹œê°„ê´€ë¦¬/ë£¨í‹´", "ìê²©ì¦ ì¶”ì²œ", "ë…ì„œ/í•„ì‚¬ ë°©ë²•", "ìƒì‚°ì„± ì•± ì¶”ì²œ",
      "ë¶€ì—… ì¤€ë¹„ ë¡œë“œë§µ", "ë©´ì ‘/ì´ì§ ì¤€ë¹„", "ìŠµê´€ ë§Œë“¤ê¸°"
    ],
    "ê³µë¶€/ìê²©ì¦":[
      "ìê²©ì¦ í•©ê²© ë£¨í‹´", "í•„ê¸°/ì‹¤ê¸° ì¤€ë¹„", "êµì¬/ì¸ê°• ë¹„êµ", "ì‹œí—˜ ì¼ì • ì •ë¦¬",
      "ì•”ê¸°ë²•/ë…¸íŠ¸ë²•", "ê³µë¶€ ì‹œê°„í‘œ", "ì·¨ì—… ì—°ê³„"
    ],
    "ë°˜ë ¤ë™ë¬¼":[
      "ì‚¬ë£Œ/ê°„ì‹ ì¶”ì²œ", "ë³´í—˜/ë³‘ì›ë¹„", "í›ˆë ¨/ë°°ë³€", "ì˜ì–‘ì œ",
      "ë¯¸ìš©/ëª©ìš• ìš©í’ˆ", "ì¥ë‚œê°/ìº£íƒ€ì›Œ", "ì•ŒëŸ¬ì§€ ê´€ë¦¬"
    ],
    "íŒ¨ì…˜/ë·°í‹°":[
      "ìŠ¤í‚¨ì¼€ì–´ ë£¨í‹´", "ì„ í¬ë¦¼/ë ˆí‹°ë†€ ë¹„êµ", "íƒˆëª¨/í—¤ì–´ì¼€ì–´", "ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ë¹„êµ",
      "ê°€ì„±ë¹„ í™”ì¥í’ˆ ì¶”ì²œ", "í¼ìŠ¤ë„ì»¬ëŸ¬", "ê´€ë¦¬ ë…¸í•˜ìš°"
    ],
    "ì·¨ë¯¸":[
      "ì…ë¬¸ ì·¨ë¯¸ ì¶”ì²œ", "ì¥ë¹„ êµ¬ë§¤ ê°€ì´ë“œ", "ê°€ì„±ë¹„ ì„¸íŠ¸", "ì˜¨ë¼ì¸ í´ë˜ìŠ¤ ì¶”ì²œ",
      "ì·¨ë¯¸ë¡œ ìˆ˜ìµ ë‚´ê¸°", "DIY í‚¤íŠ¸", "ëª¨ì„/ì»¤ë®¤ë‹ˆí‹°"
    ],
    "ìŠ¤í¬ì¸ ":[
      "í™ˆíŠ¸ ì¥ë¹„ ì¶”ì²œ", "í—¬ìŠ¤ ë£¨í‹´", "ëŸ¬ë‹í™” ì¶”ì²œ", "ë¶€ìƒ ë°©ì§€ ìŠ¤íŠ¸ë ˆì¹­",
      "ë‹¨ë°±ì§ˆ/ë³´ì¶©ì œ ë¹„êµ", "ì²´ì¤‘ê°ëŸ‰ ë£¨í‹´", "ìš´ë™ ì•± ì¶”ì²œ"
    ],
    "ê²Œì„":[
      "ê°€ì„±ë¹„ ê²Œì´ë° ê¸°ê¸°", "ì½˜ì†”/PC ë¹„êµ", "ê²Œì„ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸", "ë§ˆìš°ìŠ¤/í‚¤ë³´ë“œ ì¶”ì²œ",
      "ë””ìŠ¤ì½”ë“œ/ìŠ¤íŠ¸ë¦¬ë° ì„¸íŒ…", "ê°€ì±  ê³¼ê¸ˆ ì ˆì•½", "í—¤ë“œì…‹ ì¶”ì²œ"
    ],
    "ì˜í™”/ë“œë¼ë§ˆ":[
      "OTT ì¶”ì²œ/ìš”ê¸ˆì œ ë¹„êµ", "êµ¬ë…ë£Œ ì ˆì•½", "ì‘í’ˆ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸", "ì´¬ì˜ì§€/ì—¬í–‰ ì½”ìŠ¤",
      "êµ¿ì¦ˆ/ì‡¼í•‘", "ë¦¬ë·° í…œí”Œë¦¿", "ì¥ë¥´ë³„ ì¶”ì²œ"
    ],
  };

  function makeProfitAuto(){
    const cat = selectedCategory || "ëˆ/ì¬í…Œí¬";
    const seeds = PROFIT_BANK[cat] || PROFIT_BANK["ëˆ/ì¬í…Œí¬"];
    profitData = [];

    for(let i=1;i<=100;i++){
      const base = seeds[i % seeds.length];
      const title = `ìˆ˜ìµí˜• ì£¼ì œ ${i}: ${cat} - ${base}`;
      profitData.push({ title, tag:"ìˆ˜ìµí˜•", category: cat });
    }
    renderProfit();
    toast(`ìë™ì¶”ì²œ ìƒì„± ì™„ë£Œ: ${cat} ìˆ˜ìµí˜• 100ê°œ`);
  }

  // ì „ì²´ ëœë¤(ì¹´í…Œê³ ë¦¬ ìƒê´€ì—†ì´)
  function makeProfitAll(){
    const allSeeds = Object.values(PROFIT_BANK).flat();
    profitData = [];
    for(let i=1;i<=100;i++){
      const base = allSeeds[i % allSeeds.length];
      const title = `ìˆ˜ìµí˜• ì£¼ì œ ${i}: ${base}`;
      profitData.push({ title, tag:"ìˆ˜ìµí˜•", category:"ì „ì²´" });
    }
    renderProfit();
    toast("ì „ì²´ ëœë¤ ìˆ˜ìµí˜• 100ê°œ ìƒì„±!");
  }

  function renderProfit(){
    const filter = (document.getElementById("profitFilter").value || "").trim().toLowerCase();
    const profit=document.getElementById("profit");
    profit.innerHTML="";

    const shown = profitData.filter(x => !filter || x.title.toLowerCase().includes(filter));

    shown.forEach((x, idx)=>{
      const el=document.createElement("div");
      el.className="topicCard";
      el.innerHTML = `
        <div class="topicLeft">
          <div class="badge">${idx+1}</div>
          <div class="topicText">
            <div class="topicTitle">${escapeHtml(x.title)}</div>
            <div class="topicMeta">
              <span class="pill">${escapeHtml(x.tag)}</span>
              <span class="pill">${escapeHtml(x.category)}</span>
            </div>
          </div>
        </div>
        <div class="row" style="flex:0 0 auto;gap:8px">
          <button class="btn small copy" onclick="copyText('${escapeJs(x.title)}')">ë³µì‚¬</button>
          <button class="btn small" onclick="sendToPublishNow('${escapeJs(x.title)}')">ë°”ë¡œë°œí–‰ì— ë„£ê¸°</button>
        </div>
      `;
      profit.appendChild(el);
    });

    document.getElementById("profitCount").textContent = `${shown.length}ê°œ`;
  }

  document.getElementById("profitFilter").addEventListener("input", renderProfit);

  function clearProfit(){
    profitData = [];
    renderProfit();
    document.getElementById("profitCount").textContent="0ê°œ";
  }

  // ---------- Modals ----------
  function openPlanner(){
    document.getElementById("plannerOverlay").style.display="flex";
    loadBlogsToSelect("blogSelect");
    refreshPlanView();
  }
  function openPublishNow(){
    document.getElementById("publishOverlay").style.display="flex";
    loadBlogsToSelect("blogSelect2");
    // ê¸°ë³¸ datetime-local ê°’: ì§€ê¸ˆ ì‹œê°„
    const dt = new Date();
    const pad = (n)=>String(n).padStart(2,"0");
    const v = `${dt.getFullYear()}-${pad(dt.getMonth()+1)}-${pad(dt.getDate())}T${pad(dt.getHours())}:${pad(dt.getMinutes())}`;
    document.getElementById("publishTime").value = v;
  }
  function closeModal(id){
    document.getElementById(id).style.display="none";
  }
  function closeIfOutside(e,id){
    if(e.target.id === id) closeModal(id);
  }
  window.addEventListener("keydown", (e)=>{
    if(e.key === "Escape"){
      closeModal("plannerOverlay");
      closeModal("publishOverlay");
    }
  });

  // ---------- Blogs select from settings ----------
  function loadBlogsToSelect(selectId){
    const sel=document.getElementById(selectId);
    sel.innerHTML="";
    const blogs = JSON.parse(localStorage.getItem("baseone.blogs")||"[]");
    if(!blogs.length){
      const opt=document.createElement("option");
      opt.value="";
      opt.textContent="ì„¤ì •ì—ì„œ ë¸”ë¡œê·¸ë¥¼ ë¨¼ì € ì €ì¥í•˜ì„¸ìš”";
      sel.appendChild(opt);
      return;
    }
    blogs.forEach((b, idx)=>{
      const opt=document.createElement("option");
      const type = (b.type||"").toUpperCase();
      const name = b.name ? b.name : "ì´ë¦„ì—†ìŒ";
      opt.value=idx;
      opt.textContent=`${type} Â· ${name} Â· ${b.url}`;
      sel.appendChild(opt);
    });
  }

  // ---------- Schedule (ì˜ˆì•½) ----------
  const LS_PLAN="baseone.plan.v3";

  function saveSchedule(){
    const blogs = JSON.parse(localStorage.getItem("baseone.blogs")||"[]");
    const selIdx = document.getElementById("blogSelect").value;
    const daily = parseInt(document.getElementById("dailyCount").value || "3", 10);

    if(!blogs.length){ toast("ì„¤ì •ì—ì„œ ë¸”ë¡œê·¸ë¥¼ ë¨¼ì € ì €ì¥í•˜ì„¸ìš”!"); return; }
    if(selIdx === ""){ toast("ë¸”ë¡œê·¸ë¥¼ ì„ íƒí•˜ì„¸ìš”!"); return; }
    if(!daily || daily < 1){ toast("í•˜ë£¨ ë°œí–‰ ê°œìˆ˜ëŠ” 1 ì´ìƒ!"); return; }

    const t1=document.getElementById("t1").value || "09:00";
    const t2=document.getElementById("t2").value || "14:00";
    const t3=document.getElementById("t3").value || "19:00";

    const times = [t1, t2, t3].slice(0, Math.min(3, daily));

    const picked = blogs[parseInt(selIdx, 10)];
    const data = {
      blog: picked,
      dailyCount: daily,
      times,
      savedAt: new Date().toISOString()
    };

    localStorage.setItem(LS_PLAN, JSON.stringify(data));
    toast("âœ… ì˜ˆì•½ ì €ì¥ ì™„ë£Œ!");
    refreshPlanView();
  }

  function viewSchedule(){
    const raw = localStorage.getItem(LS_PLAN);
    if(!raw){ toast("ì €ì¥ëœ ì˜ˆì•½ì´ ì—†ì–´ìš”"); return; }
    const d = JSON.parse(raw);
    alert(
      "ì˜ˆì•½ ì •ë³´\n\n" +
      "ë¸”ë¡œê·¸: " + (d.blog.name || "ì´ë¦„ì—†ìŒ") + "\n" +
      "ì¢…ë¥˜: " + d.blog.type + "\n" +
      "ì£¼ì†Œ: " + d.blog.url + "\n" +
      "í•˜ë£¨ ë°œí–‰: " + d.dailyCount + "ê°œ\n" +
      "ì‹œê°„: " + (d.times||[]).join(", ") + "\n" +
      "ì €ì¥ì‹œê°„: " + d.savedAt
    );
  }

  function clearSchedule(){
    localStorage.removeItem(LS_PLAN);
    toast("ì˜ˆì•½ ì‚­ì œ ì™„ë£Œ");
    refreshPlanView();
  }

  function refreshPlanView(){
    const out = document.getElementById("planView");
    const raw = localStorage.getItem(LS_PLAN);
    if(!raw){
      out.textContent = "ì €ì¥ëœ ì˜ˆì•½ì´ ì—†ì–´ìš”.";
      return;
    }
    const d = JSON.parse(raw);
    out.innerHTML =
      `âœ… ì €ì¥ë¨<br>` +
      `ë¸”ë¡œê·¸: <b>${escapeHtml(d.blog.name || "ì´ë¦„ì—†ìŒ")}</b> (${escapeHtml(d.blog.type)})<br>` +
      `ì£¼ì†Œ: ${escapeHtml(d.blog.url)}<br>` +
      `í•˜ë£¨ ë°œí–‰: ${escapeHtml(String(d.dailyCount))}ê°œ<br>` +
      `ì‹œê°„: ${escapeHtml((d.times||[]).join(", "))}<br>` +
      `ì €ì¥ì‹œê°„: ${escapeHtml(d.savedAt)}`;
  }

  // ---------- Publish Now ----------
  function sendToPublishNow(topic){
    document.getElementById("publishTopic").value = topic;
    openPublishNow();
    toast("ë°”ë¡œë°œí–‰ ì°½ì— ì£¼ì œ ì…ë ¥ë¨!");
  }

  function buildPayload(){
    const blogIdx = document.getElementById("blogSelect2").value;
    const blogs = JSON.parse(localStorage.getItem("baseone.blogs")||"[]");
    const blog = (blogs.length && blogIdx !== "") ? blogs[parseInt(blogIdx,10)] : null;

    const dt = document.getElementById("publishTime").value || "";
    const topic = (document.getElementById("publishTopic").value || "").trim();
    if(!topic){ toast("ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”!"); return; }

    // ë°œí–‰ìš© í…ìŠ¤íŠ¸ í…œí”Œë¦¿(ë³µì‚¬ìš©)
    const title = topic;
    const imgPrompt = `ë¸”ë¡œê·¸ ì¸ë„¤ì¼ìš© ê³ í€„ ì´ë¯¸ì§€, ì£¼ì œ: "${topic}", ë¯¸ë‹ˆë©€, ê³ ëŒ€ë¹„, í…ìŠ¤íŠ¸ ì—†ìŒ, 16:9`;
    const bodyPrompt =
      `ë‹¤ìŒ ì£¼ì œë¡œ í•œêµ­ì–´ ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•´ì¤˜.\n`+
      `- ì£¼ì œ: ${topic}\n`+
      `- SEO: ì œëª©/ì†Œì œëª©(H2,H3), ë¦¬ìŠ¤íŠ¸, í‘œ 1ê°œ, FAQ 5ê°œ í¬í•¨\n`+
      `- ê¸¸ì´: 1800~2400ì\n`+
      `- í†¤: ì¹œì ˆ/ì „ë¬¸, ì´ˆë³´ìë„ ì´í•´\n`+
      `- ë§ˆì§€ë§‰ì— ìš”ì•½ê³¼ í–‰ë™ìœ ë„(êµ¬ë…/ëŒ“ê¸€) ë„£ê¸°\n`;

    const payload =
`[ë°”ë¡œë°œí–‰ ë°ì´í„°]
- ë°œí–‰ì‹œê°„: ${dt}
- ë¸”ë¡œê·¸: ${blog ? (blog.type+" / "+(blog.name||"ì´ë¦„ì—†ìŒ")+" / "+blog.url) : "(ë¯¸ì„ íƒ)"}

[ì œëª©]
${title}

[ë³¸ë¬¸ ì‘ì„± í”„ë¡¬í”„íŠ¸]
${bodyPrompt}

[ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸]
${imgPrompt}

[ë©”ëª¨]
- ì´ë¯¸ì§€/ê¸€ ìƒì„± í›„, í”Œë«í¼(ë¸”ë¡œê·¸ìŠ¤íŒŸ/ë„¤ì´ë²„/í‹°ìŠ¤í† ë¦¬)ì— ì—…ë¡œë“œ ì—°ê²°ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ìë™í™”(OAuth/ì„œë²„)ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
`;

    document.getElementById("publishPayload").value = payload;
    toast("ë°œí–‰ìš© í…ìŠ¤íŠ¸ ìƒì„± ì™„ë£Œ!");
  }

  function copyPayload(){
    const v = document.getElementById("publishPayload").value || "";
    if(!v.trim()){ toast("ë³µì‚¬í•  ë‚´ìš©ì´ ì—†ì–´ìš”"); return; }
    copyText(v);
  }

  function clearPayload(){
    document.getElementById("publishPayload").value="";
  }

  // ---------- helpers ----------
  function escapeJs(s){
    return String(s)
      .replaceAll("\\","\\\\")
      .replaceAll("'","\\'")
      .replaceAll("\n","\\n")
      .replaceAll("\r","\\r");
  }
  function escapeHtml(s){
    return String(s)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }
</script>
</body>
</html>
