<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BaseOne</title>
  <style>
    :root{
      --bg:#0b1020;
      --panel: rgba(255,255,255,.05);
      --panel2: rgba(255,255,255,.07);
      --line: rgba(255,255,255,.10);
      --text:#eef2ff;
      --muted:rgba(238,242,255,.68);
      --accent:#6aa8ff;
      --accent2:#3a7bff;
      --shadow: 0 18px 44px rgba(0,0,0,.45);
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 760px at 12% 10%, rgba(58,123,255,.13), transparent 60%),
        radial-gradient(1000px 740px at 85% 20%, rgba(255,102,196,.06), transparent 55%),
        linear-gradient(180deg, #070a14 0%, var(--bg) 70%);
      min-height:100vh;
    }
    a{color:var(--accent); text-decoration:none}
    .wrap{max-width:1140px;margin:0 auto;padding:22px 16px 74px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:900;font-size:28px}
    .logo{width:40px;height:40px;border-radius:14px;background:linear-gradient(180deg, rgba(106,168,255,.95), rgba(58,123,255,.95));border:1px solid rgba(255,255,255,.14);box-shadow:0 10px 26px rgba(58,123,255,.20)}
    .rightTop{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:none; cursor:pointer;
      padding:10px 12px;border-radius:14px;
      font-weight:900;
      background:rgba(255,255,255,.05);
      color:var(--text);
      border:1px solid var(--line);
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
    }
    .btn:hover{border-color: rgba(106,168,255,.32); background: rgba(255,255,255,.07)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      background: linear-gradient(180deg, rgba(106,168,255,1), rgba(58,123,255,1));
      border:none;
      box-shadow: 0 12px 30px rgba(58,123,255,.20);
    }
    .panel{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
      margin-top:14px;
    }
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr)} }
    .cat{
      display:flex;align-items:center;gap:10px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      padding:14px 14px;
      cursor:pointer;
      transition:transform .08s ease, border-color .2s ease, background .2s ease;
    }
    .cat:hover{border-color: rgba(106,168,255,.35); background: rgba(255,255,255,.07)}
    .cat:active{transform: translateY(1px)}
    .ico{
      width:34px;height:34px;border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      font-size:18px;
    }
    .cat .t{font-weight:900}
    .cat .s{font-size:12px;color:var(--muted);margin-top:2px}
    .blogRow{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
    .pill{
      padding:9px 12px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.05);
      cursor:pointer;
      font-weight:900;
    }
    .pill.active{border-color: rgba(106,168,255,.45); box-shadow:0 10px 26px rgba(58,123,255,.12)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    input, select{
      padding:12px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      color:var(--text);
      outline:none;
    }
    .muted{color:var(--muted);font-size:13px}
    .h2{font-size:18px;font-weight:900;margin:0 0 10px}
    .box{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      padding:14px;
      margin-top:12px;
    }
    .topicList{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:760px){ .topicList{grid-template-columns:1fr} }
    .card{
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:12px;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .card .txt{font-size:13px;color:rgba(238,242,255,.92)}
    .card .actions{display:flex;gap:8px}
    .small{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand"><div class="logo"></div>BaseOne</div>
      <div class="rightTop">
        <a class="btn" href="./settings.html">ì„¤ì •</a>
        <button class="btn primary" onclick="openSchedule()">ì˜ˆì•½ë°œí–‰</button>
      </div>
    </div>

    <div class="panel">
      <div class="h2">ì¹´í…Œê³ ë¦¬</div>
      <div class="grid" id="catGrid"></div>

      <div class="blogRow" style="margin-top:16px;">
        <div class="pill" onclick="setBlog('blogspot')" id="b_blogspot">ë¸”ë¡œê·¸ìŠ¤íŒŸ</div>
        <div class="pill" onclick="setBlog('naver')" id="b_naver">ë„¤ì´ë²„</div>
        <div class="pill" onclick="setBlog('tistory')" id="b_tistory">í‹°ìŠ¤í† ë¦¬</div>
      </div>

      <div class="box">
        <div class="row" style="justify-content:space-between;gap:12px;">
          <div>
            <div class="small">í˜„ì¬ ì„ íƒ</div>
            <div style="font-weight:900" id="selInfo">ë¸”ë¡œê·¸: - / ì¹´í…Œê³ ë¦¬: -</div>
            <div class="muted" id="engineInfo">ê¸€ì‘ì„±: - / ì´ë¯¸ì§€: -</div>
          </div>

          <div class="row">
            <input id="filter" placeholder="ì£¼ì œ ê²€ìƒ‰(í•„í„°)" oninput="renderTopics()" />
            <button class="btn" onclick="copyAll()">ì „ì²´ ë³µì‚¬</button>
          </div>
        </div>

        <div style="margin-top:12px;" class="topicList" id="topics"></div>
      </div>
    </div>

    <div class="panel">
      <div class="h2">ìë™ ë°œí–‰</div>
      <div class="muted">ê¸°ë³¸: í•˜ë£¨ 3ê°œ (ì˜¤ì „ 9ì‹œ / ì˜¤í›„ 2ì‹œ / ì €ë… 7ì‹œ). â€œë°”ë¡œ ë°œí–‰â€ì€ ì›í•˜ëŠ” ì‹œì‘ ì‹œê°„ + ê°„ê²©ìœ¼ë¡œ ë°œí–‰í•  ìˆ˜ ìˆì–´ìš”.</div>

      <div class="box">
        <div class="row" style="margin-top:8px;">
          <button class="btn primary" onclick="alert('ì§€ê¸ˆì€ UIë§Œ ì™„ì„±! ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‹¤ì œ ìë™ë°œí–‰(ì„œë²„/ë¡œê·¸ì¸/API) ì—°ê²°í•©ë‹ˆë‹¤.')">í•˜ë£¨ 3ê°œ ìë™ ë°œí–‰</button>
          <span class="muted">ì˜¤ì „ 9ì‹œ / ì˜¤í›„ 2ì‹œ / ì €ë… 7ì‹œ</span>
        </div>

        <div class="row" style="margin-top:14px;">
          <label style="font-weight:900;">ë°”ë¡œ ë°œí–‰</label>
          <input type="time" id="startTime" value="09:00" />
          <select id="gapHours">
            <option value="1">1ì‹œê°„ ê°„ê²©</option>
            <option value="2" selected>2ì‹œê°„ ê°„ê²©</option>
            <option value="3">3ì‹œê°„ ê°„ê²©</option>
            <option value="6">6ì‹œê°„ ê°„ê²©</option>
            <option value="12">12ì‹œê°„ ê°„ê²©</option>
          </select>
          <input type="number" id="instantCount" value="3" min="1" max="30" />
          <span class="muted">ê°œ ë°œí–‰</span>
          <button class="btn primary" onclick="instantPublish()">ë°”ë¡œ ë°œí–‰</button>
        </div>

        <div class="muted" id="instantPreview" style="margin-top:10px;"></div>
      </div>
    </div>
  </div>

  <!-- ì˜ˆì•½ë°œí–‰ íŒì—… -->
  <div id="modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.55); padding:18px;">
    <div style="max-width:720px;margin:40px auto;background:rgba(20,24,40,.96);border:1px solid rgba(255,255,255,.12);border-radius:22px;box-shadow:0 18px 44px rgba(0,0,0,.5);padding:16px;">
      <div class="row" style="justify-content:space-between;">
        <div style="font-weight:900;font-size:18px;">ì˜ˆì•½ë°œí–‰</div>
        <button class="btn" onclick="closeSchedule()">ë‹«ê¸°</button>
      </div>

      <div class="box">
        <div class="muted">í˜„ì¬ëŠ” â€œUIë§Œâ€ ì¤€ë¹„ëœ ìƒíƒœì˜ˆìš”. ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‹¤ì œë¡œ ê¸€/ì´ë¯¸ì§€ ìƒì„± + ë¸”ë¡œê·¸ ìë™ë°œí–‰ ì„œë²„ ì—°ê²°ì„ ë¶™ì¼ê²Œìš”.</div>
        <div class="row" style="margin-top:10px;">
          <button class="btn primary" onclick="alert('ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì—°ê²°ë©ë‹ˆë‹¤!')">ì˜ˆì•½ ì‹¤í–‰</button>
          <button class="btn" onclick="alert('ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì—°ê²°ë©ë‹ˆë‹¤!')">ì—°ë™í™•ì¸</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const CATS = [
      {k:"ê±´ê°•", i:"ğŸ’ª", s:"ëª¸/ê±´ê°•"},
      {k:"ì»´í“¨í„°/IT", i:"ğŸ’»", s:"ê¸°ìˆ /ë„êµ¬"},
      {k:"ìë™ì°¨", i:"ğŸš—", s:"ì •ë¹„/ë³´í—˜"},
      {k:"ìƒí™œ/ê°€ì „", i:"ğŸ ", s:"ì‚´ë¦¼/ê°€ì „"},
      {k:"ìœ¡ì•„", i:"ğŸ‘¶", s:"ìœ¡ì•„/êµìœ¡"},
      {k:"ëˆ/ì¬í…Œí¬", i:"ğŸ’°", s:"ì ˆì•½/íˆ¬ì"},
      {k:"ì—¬í–‰", i:"âœˆï¸", s:"ì½”ìŠ¤/íŒ"},
      {k:"ìš”ë¦¬", i:"ğŸ³", s:"ë ˆì‹œí”¼"},
      {k:"ìê¸°ê³„ë°œ", i:"âœ…", s:"ìŠµê´€/ëª©í‘œ"},
      {k:"ê³µë¶€/ìê²©ì¦", i:"ğŸ“š", s:"ì‹œí—˜/ë£¨í‹´"},
      {k:"ë°˜ë ¤ë™ë¬¼", i:"ğŸ¶", s:"ì¼€ì–´/ìš©í’ˆ"},
      {k:"íŒ¨ì…˜/ë·°í‹°", i:"ğŸ’„", s:"ê´€ë¦¬/íŒ"},
      {k:"ì·¨ë¯¸", i:"ğŸ¨", s:"ì·¨ë¯¸/DIY"},
      {k:"ìŠ¤í¬ì¸ ", i:"âš½", s:"ìš´ë™/ë£¨í‹´"},
      {k:"ê²Œì„", i:"ğŸ®", s:"ë¦¬ë·°/íŒ"},
      {k:"ì˜í™”/ë“œë¼ë§ˆ", i:"ğŸ¬", s:"ì¶”ì²œ/ë¦¬ë·°"},
    ];

    let selectedBlog = localStorage.getItem("baseone_selected_blog") || "";
    let selectedCat  = localStorage.getItem("baseone_selected_cat") || "";
    let topics = [];

    function loadEngines(){
      const s = JSON.parse(localStorage.getItem("baseone_settings") || "{}");
      const textMap = {gemini:"Gemini", chatgpt:"ChatGPT", genspark:"ì  ìŠ¤íŒŒí¬"};
      const imgMap  = {gemini_image:"Gemini ì´ë¯¸ì§€", wisk:"WISK(ìœ„ìŠ¤í¬)", free_stock:"ë¬´ë£Œ ì´ë¯¸ì§€(ìŠ¤í†¡)"};
      const text = textMap[s.textProvider] || "-";
      const img  = imgMap[s.imgProvider] || "-";
      document.getElementById("engineInfo").textContent = `ê¸€ì‘ì„±: ${text} / ì´ë¯¸ì§€: ${img}`;
    }

    function setBlog(b){
      selectedBlog = b;
      localStorage.setItem("baseone_selected_blog", b);
      ["blogspot","naver","tistory"].forEach(x=>{
        document.getElementById("b_"+x).classList.toggle("active", x===b);
      });
      updateSel();
    }

    function selectCat(cat){
      selectedCat = cat;
      localStorage.setItem("baseone_selected_cat", cat);
      makeTopics(cat);
      updateSel();
    }

    function updateSel(){
      const blogName = selectedBlog ? (selectedBlog==="blogspot"?"ë¸”ë¡œê·¸ìŠ¤íŒŸ": selectedBlog==="naver"?"ë„¤ì´ë²„":"í‹°ìŠ¤í† ë¦¬") : "-";
      document.getElementById("selInfo").textContent = `ë¸”ë¡œê·¸: ${blogName} / ì¹´í…Œê³ ë¦¬: ${selectedCat || "-"}`;
    }

    function makeTopics(category){
      topics = [];
      for(let i=1;i<=50;i++){
        topics.push(`${category} ìˆ˜ìµí˜• ê¸€ ì•„ì´ë””ì–´ ${i}`);
      }
      renderTopics();
    }

    function renderTopics(){
      const q = (document.getElementById("filter").value || "").trim().toLowerCase();
      const list = document.getElementById("topics");
      const filtered = q ? topics.filter(t=>t.toLowerCase().includes(q)) : topics;

      list.innerHTML = "";
      filtered.forEach((t)=>{
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <div class="txt">${escapeHtml(t)}</div>
          <div class="actions">
            <button class="btn small copy" onclick="copyText('${escapeAttr(t)}')">ë³µì‚¬</button>
          </div>
        `;
        list.appendChild(div);
      });
    }

    function copyText(t){
      navigator.clipboard.writeText(t);
      alert("ë³µì‚¬ ì™„ë£Œ!");
    }

    function copyAll(){
      if(!topics.length){ alert("ë¨¼ì € ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”!"); return; }
      navigator.clipboard.writeText(topics.join("\n"));
      alert("ì „ì²´ ë³µì‚¬ ì™„ë£Œ!");
    }

    function openSchedule(){ document.getElementById("modal").style.display="block"; }
    function closeSchedule(){ document.getElementById("modal").style.display="none"; }

    function instantPublish(){
      if(!selectedBlog){ alert("ë¨¼ì € ë¸”ë¡œê·¸ë¥¼ ì„ íƒí•˜ì„¸ìš”!"); return; }
      if(!selectedCat){ alert("ë¨¼ì € ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”!"); return; }
      if(!topics.length){ alert("ì£¼ì œê°€ ì—†ìŠµë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ë¥¼ ë‹¤ì‹œ ì„ íƒí•´ ì£¼ì„¸ìš”."); return; }

      const start = document.getElementById("startTime").value || "09:00";
      const gap   = parseInt(document.getElementById("gapHours").value || "2", 10);
      const count = Math.max(1, parseInt(document.getElementById("instantCount").value || "1", 10));

      // ë¯¸ë¦¬ë³´ê¸°(ì‹œê°„ ê³„ì‚°)
      const times = [];
      const [hh,mm] = start.split(":").map(Number);
      let base = new Date();
      base.setHours(hh, mm, 0, 0);

      for(let i=0;i<count;i++){
        const d = new Date(base.getTime() + i*gap*60*60*1000);
        const h = String(d.getHours()).padStart(2,"0");
        const m = String(d.getMinutes()).padStart(2,"0");
        times.push(`${h}:${m}`);
      }

      document.getElementById("instantPreview").textContent =
        `ë¯¸ë¦¬ë³´ê¸°: ${times.join(" / ")} ì— ${count}ê°œ ë°œí–‰ (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‹¤ì œ ë°œí–‰ ì—°ê²°)`;

      alert("ì§€ê¸ˆì€ UIë§Œ ì™„ì„±! ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‹¤ì œ ê¸€/ì´ë¯¸ì§€ ìƒì„± + ë°œí–‰ì„ ì—°ê²°í•©ë‹ˆë‹¤.");
    }

    function escapeHtml(s){
      return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }
    function escapeAttr(s){
      return s.replaceAll("\\","\\\\").replaceAll("'","\\'");
    }

    // init
    const grid = document.getElementById("catGrid");
    CATS.forEach(c=>{
      const el = document.createElement("div");
      el.className="cat";
      el.onclick = ()=>selectCat(c.k);
      el.innerHTML = `
        <div class="ico">${c.i}</div>
        <div>
          <div class="t">${c.k}</div>
          <div class="s">${c.s}</div>
        </div>
      `;
      grid.appendChild(el);
    });

    // restore
    if(selectedBlog) setBlog(selectedBlog);
    updateSel();
    if(selectedCat) makeTopics(selectedCat);
    loadEngines();
  </script>
</body>
</html>
