<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BaseOne ì„¤ì •</title>
<style>
  :root{
    --bg:#0b1020; --panel:#121a33; --panel2:#0f1530;
    --line:rgba(255,255,255,.10);
    --text:#eaf0ff; --sub:#b9c6ff;
    --blue:#4f8cff; --blue2:#2f6bff;
    --green:#2dd4bf; --warn:#fbbf24;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:radial-gradient(1200px 800px at 20% 10%, #1a2a5a 0%, var(--bg) 45%), var(--bg); color:var(--text)}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:980px;margin:0 auto;padding:18px}
  .top{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-bottom:12px}
  .brand{display:flex;align-items:center;gap:10px}
  .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,#4f8cff,#2dd4bf);display:grid;place-items:center;font-weight:900}
  .title{font-size:22px;font-weight:900}
  .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer;font-weight:800}
  .btn.primary{background:linear-gradient(135deg,var(--blue),var(--blue2));border:none}
  .grid{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));border:1px solid var(--line);border-radius:18px;padding:14px}
  h2{margin:0 0 10px;font-size:16px}
  h3{margin:16px 0 10px;font-size:15px}
  .small{font-size:12px;color:var(--sub);line-height:1.5}
  label{display:block;font-size:12px;color:var(--sub);margin-top:10px;margin-bottom:6px}
  input,select,textarea{
    width:100%;padding:10px;border-radius:12px;border:1px solid var(--line);
    background:rgba(15,21,48,.8);color:var(--text);outline:none
  }
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
  .cols{display:grid;grid-template-columns:1fr;gap:10px}
  @media(min-width:900px){.cols{grid-template-columns:1fr 1fr}}
  .hint{border-left:3px solid var(--green);padding:10px 12px;border-radius:12px;background:rgba(45,212,191,.08);border:1px solid rgba(45,212,191,.25)}
  .warn{border-left:3px solid var(--warn);padding:10px 12px;border-radius:12px;background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.25)}
  .list{margin:8px 0 0 0;padding-left:18px;color:var(--sub);font-size:12px;line-height:1.6}
  .inputsGrid{display:grid;grid-template-columns:1fr;gap:10px}
  @media(min-width:900px){.inputsGrid{grid-template-columns:1fr 1fr}}
  .foot{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .ok{color:#9ff5d2;font-weight:800}
</style>
</head>
<body>
<div class="wrap">

  <div class="top">
    <div class="brand">
      <div class="logo">B</div>
      <div>
        <div class="title">BaseOne ì„¤ì •</div>
        <div class="small">í‚¤/ì£¼ì†ŒëŠ” ë‚´ PC(ë¸Œë¼ìš°ì €)ì—ë§Œ ì €ì¥ë¼ìš”.</div>
      </div>
    </div>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <a href="./index.html"><button class="btn">â† ë©”ì¸</button></a>
      <button class="btn primary" onclick="saveAll()">ğŸ’¾ ì €ì¥</button>
    </div>
  </div>

  <div class="warn small">
    âš ï¸ GitHub Pagesì—ì„œëŠ” ë³´ì•ˆìƒ <b>127.0.0.1 ì„œë²„ í˜¸ì¶œì´ ë§‰í ìˆ˜ ìˆì–´ìš”</b>.  
    ì‹¤ì œ AI ìƒì„±/ë°œí–‰ì€ <b>ë¡œì»¬ì—ì„œ server.py ì‹¤í–‰</b>í–ˆì„ ë•Œ ì•ˆì •ì ì…ë‹ˆë‹¤.
  </div>

  <div class="grid" style="margin-top:12px">

    <div class="card">
      <h2>1) ê¸€ ì‘ì„± API í‚¤</h2>
      <div class="cols">
        <div>
          <label>Gemini API Key</label>
          <input id="gemini_key" placeholder="AIza..." />
          <div class="hint small">
            <b>Gemini ë°œê¸‰ ë°©ë²•</b>
            <ul class="list">
              <li>Google AI Studio ì ‘ì†</li>
              <li><b>API í‚¤</b> ë©”ë‰´ â†’ <b>API í‚¤ ë§Œë“¤ê¸°</b></li>
              <li>ìƒì„±ëœ í‚¤ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸°</li>
            </ul>
          </div>
        </div>

        <div>
          <label>ChatGPT API Key (OpenAI)</label>
          <input id="openai_key" placeholder="sk-..." />
          <div class="hint small">
            <b>OpenAI ë°œê¸‰ ë°©ë²•</b>
            <ul class="list">
              <li>OpenAI ë¡œê·¸ì¸</li>
              <li>API Keys â†’ Create new secret key</li>
              <li>ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸°</li>
            </ul>
          </div>
        </div>

        <div>
          <label>Genspark API Key</label>
          <input id="genspark_key" placeholder="Genspark í‚¤" />
          <div class="hint small">
            <b>Genspark ë°œê¸‰ ë°©ë²•</b>
            <ul class="list">
              <li>Genspark ê°œë°œì/ì„¤ì • í˜ì´ì§€</li>
              <li>API Key ìƒì„± â†’ ë³µì‚¬</li>
              <li>ë¶™ì—¬ë„£ê¸°</li>
            </ul>
          </div>
        </div>

        <div>
          <label>ê¸°ë³¸ ê¸€ ì‘ì„± ì—”ì§„</label>
          <select id="text_provider">
            <option value="gemini">Gemini</option>
            <option value="chatgpt">ChatGPT</option>
            <option value="genspark">Genspark</option>
          </select>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>2) ì´ë¯¸ì§€ ìƒì„±/ë¬´ë£Œ ì´ë¯¸ì§€</h2>
      <div class="cols">
        <div>
          <label>Gemini Image Key</label>
          <input id="gemini_img_key" placeholder="Gemini ì´ë¯¸ì§€ í‚¤(ê°™ì€ í‚¤ ì‚¬ìš© ê°€ëŠ¥)" />
          <div class="small" style="margin-top:8px">
            ë³´í†µ Gemini í…ìŠ¤íŠ¸ í‚¤ì™€ ë™ì¼ í‚¤ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ê¶Œí•œ/ìš”ê¸ˆì œì— ë”°ë¼ ì œí•œë  ìˆ˜ ìˆì–´ìš”.
          </div>
        </div>

        <div>
          <label>Wisk Key</label>
          <input id="wisk_key" placeholder="Wisk í‚¤" />
        </div>

        <div>
          <label>âœ… Pexels API Key (ë¬´ë£Œ ì´ë¯¸ì§€)</label>
          <input id="pexels_key" placeholder="Pexels í‚¤" />
          <div class="hint small">
            <b>Pexels ë°œê¸‰ ë°©ë²•</b>
            <ul class="list">
              <li>Pexels ë¡œê·¸ì¸</li>
              <li>Developers / API ë©”ë‰´</li>
              <li>API Key ìƒì„± â†’ ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸°</li>
            </ul>
          </div>
        </div>

        <div>
          <label>ê¸°ë³¸ ì´ë¯¸ì§€ ì—”ì§„</label>
          <select id="img_provider">
            <option value="pexels">Pexels(ë¬´ë£Œ)</option>
            <option value="gemini">Gemini</option>
            <option value="wisk">Wisk</option>
          </select>
          <div class="small" style="margin-top:8px">
            ë¬´ë£Œë¡œ ì“°ë ¤ë©´ <b>Pexels</b> ì¶”ì²œ!
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>3) ë¸”ë¡œê·¸ ì—°ê²° (ì£¼ì†Œ ì €ì¥)</h2>
      <div class="small">ì§€ê¸ˆì€ â€œì£¼ì†Œ ì €ì¥â€ ë‹¨ê³„. ì‹¤ì œ ìë™ë°œí–‰(OAuth/í† í°)ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ë¶™ì—¬ìš”.</div>

      <h3>ë¸”ë¡œê·¸ìŠ¤íŒŸ (ìµœëŒ€ 10ê°œ)</h3>
      <div class="inputsGrid" id="blogspot_box"></div>

      <h3>ë„¤ì´ë²„ (ìµœëŒ€ 3ê°œ)</h3>
      <div class="inputsGrid" id="naver_box"></div>

      <h3>í‹°ìŠ¤í† ë¦¬ (ìµœëŒ€ 10ê°œ)</h3>
      <div class="inputsGrid" id="tistory_box"></div>

      <div class="foot">
        <button class="btn primary" onclick="saveAll()">ğŸ’¾ ì €ì¥</button>
        <span id="msg" class="small"></span>
      </div>
    </div>

    <div class="card">
      <h2>4) ì„œë²„ ì£¼ì†Œ</h2>
      <label>ë¡œì»¬ ì„œë²„ ì£¼ì†Œ</label>
      <input id="backend" placeholder="http://127.0.0.1:5000" />
      <button class="btn" onclick="testServer()">ì„œë²„ ì—°ê²° í™•ì¸</button>
      <div id="serverMsg" class="small"></div>
    </div>

  </div>
</div>

<script>
const KEY = "baseone_settings_v3"; // ê¸°ì¡´ ìœ ì§€(ë„¤ ì„¤ì •ì°½ ìì²´ ì €ì¥)
const KEY_V2 = "baseone_settings_v2"; // âœ… ë©”ì¸(index.html)ì´ ì½ëŠ” í‚¤


function makeInputs(containerId, prefix, count){
  const box = document.getElementById(containerId);
  for(let i=1;i<=count;i++){
    const wrap = document.createElement("div");
    wrap.innerHTML = `
      <label>${prefix} ${i} ì£¼ì†Œ</label>
      <input id="${prefix}_${i}" placeholder="https://..." />
    `;
    box.appendChild(wrap);
  }
}
makeInputs("blogspot_box","blogspot",10);
makeInputs("naver_box","naver",3);
makeInputs("tistory_box","tistory",10);

function saveAll(){
  const data = {
    gemini_key: gemini_key.value.trim(),
    openai_key: openai_key.value.trim(),
    genspark_key: genspark_key.value.trim(),
    text_provider: text_provider.value,
    gemini_img_key: gemini_img_key.value.trim(),
    wisk_key: wisk_key.value.trim(),
    pexels_key: pexels_key.value.trim(),
    img_provider: img_provider.value,
    backend: backend.value.trim() || "http://127.0.0.1:5000",
    blogspot: [],
    naver: [],
    tistory: []
  };

  for(let i=1;i<=10;i++) data.blogspot.push((document.getElementById(`blogspot_${i}`).value||"").trim());
  for(let i=1;i<=3;i++) data.naver.push((document.getElementById(`naver_${i}`).value||"").trim());
  for(let i=1;i<=10;i++) data.tistory.push((document.getElementById(`tistory_${i}`).value||"").trim());

  localStorage.setItem(KEY, JSON.stringify(data));
  msg.innerHTML = `<span class="ok">ì €ì¥ ì™„ë£Œ âœ…</span>`;
}
// âœ… ë©”ì¸(index.html)ê³¼ í˜¸í™˜ë˜ê²Œ v2 í˜•ì‹ë„ ê°™ì´ ì €ì¥
const v2 = {
  blogs: {
    blogspot: (data.blogspot || []).filter(v => v && v.trim()),
    naver: (data.naver || []).filter(v => v && v.trim()),
    tistory: (data.tistory || []).filter(v => v && v.trim())
  },
  imgProvider: data.img_provider || "pexels",
  pexelsKey: data.pexels_key || ""
};
localStorage.setItem(KEY_V2, JSON.stringify(v2));

(function load(){
  const d = JSON.parse(localStorage.getItem(KEY) || "{}");
  gemini_key.value = d.gemini_key || "";
  openai_key.value = d.openai_key || "";
  genspark_key.value = d.genspark_key || "";
  text_provider.value = d.text_provider || "gemini";
  gemini_img_key.value = d.gemini_img_key || "";
  wisk_key.value = d.wisk_key || "";
  pexels_key.value = d.pexels_key || "";
  img_provider.value = d.img_provider || "pexels";
  backend.value = d.backend || "http://127.0.0.1:5000";

  (d.blogspot||[]).forEach((v,i)=>{ const el=document.getElementById(`blogspot_${i+1}`); if(el) el.value=v||"";});
  (d.naver||[]).forEach((v,i)=>{ const el=document.getElementById(`naver_${i+1}`); if(el) el.value=v||"";});
  (d.tistory||[]).forEach((v,i)=>{ const el=document.getElementById(`tistory_${i+1}`); if(el) el.value=v||"";});
})();

async function testServer(){
  const base = (backend.value || "http://127.0.0.1:5000").trim();
  serverMsg.textContent = "í™•ì¸ ì¤‘...";
  try{
    const res = await fetch(base + "/health");
    const j = await res.json();
    serverMsg.innerHTML = `<span class="ok">ì—°ê²° OK âœ…</span> <span class="small">${j.time||""}</span>`;
  }catch(e){
    serverMsg.innerHTML = `<span style="color:#ffb4b4;font-weight:800">ì—°ê²° ì‹¤íŒ¨ âŒ</span> <span class="small">ì„œë²„ë¥¼ ë¨¼ì € ì¼œì„¸ìš” (python server.py)</span>`;
  }
}
</script>
</body>
</html>


